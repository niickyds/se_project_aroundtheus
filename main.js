!function(){"use strict";var e=class{constructor(e,t,s){this._name=e.name,this._link=e.link,this._cardSelector=t,this._handleImageClick=s}_setEventListeners(){this._likeButton.addEventListener("click",(()=>this._handleLikeIcon())),this._deleteButton.addEventListener("click",(()=>this._handleDeleteIcon())),this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this)}))}_handleLikeIcon(){this._likeButton.classList.toggle("card__like-button_active")}_handleDeleteIcon(){this._element.remove(),this._element=null}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".card__like-button"),this._deleteButton=this._element.querySelector(".card__delete-button"),this._cardImage=this._element.querySelector(".card__image"),this._cardTitle=this._element.querySelector(".card__title"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._setEventListeners(),this._element}},t=class{constructor(e,t){this._formElement=t,this._inputSelector=e.inputSelector,this._submitButton=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return!this._inputElement.every((e=>e.validity.valid))}_setEventListeners(){this._inputElement=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._submitButton=this._formElement.querySelector(this._submitButton),this._inputElement.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}toggleButtonState(){this._hasInvalidInput(this._inputElement)?(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0):(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}};class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._popupCloseBtn=this._popupElement.querySelector(".modal__close"),this._popupImage=document.querySelector(".preview-image")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&this.close()}))}}class n extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputItems=this._popupForm.querySelectorAll(".modal__input")}_getInputValues(){const e={};return this._inputItems.forEach((t=>{e[t.name]=t.value})),e}close(){this._popupForm.reset(),super.close()}setEventListeners(){this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())})),super.setEventListeners()}}const o={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},r=document.querySelector(".profile__edit-button"),i=document.querySelector("#edit-modal"),a=(document.querySelector(".profile__title"),document.querySelector(".profile__text"),document.querySelector("#profile-title-input")),l=document.querySelector("#profile-text-input"),c=(i.querySelector(".modal__form"),document.querySelector(".profile__add-button")),u=document.querySelector("#card-modal"),m=(u.querySelector("#add-title-input"),u.querySelector("#add-url-input"),u.querySelector(".modal__form"),document.querySelector("#image-modal")),_=(m.querySelector(".preview-image"),m.querySelector(".modal__preview-text"),document.querySelector(".cards__list"),document.querySelector("#edit-form")),d=document.querySelector("#add-form"),p=new t(o,_),h=new t(o,d);p.enableValidation(),h.enableValidation();const v=new n("#card-modal",(function(e){const t=f(e);return y.addItem(t),v.close(),t}));v.setEventListeners();const E=new class{constructor(e,t){this._name=document.querySelector(e),this._about=document.querySelector(t)}getUserInfo(){return{name:this._name.textContent,about:this._about.textContent}}setUserInfo(e){this._name.textContent=e.name,this._about.textContent=e.about}}(".profile__title",".profile__text"),S=new n("#edit-modal",(e=>{E.setUserInfo(e),S.close()}));S.setEventListeners();const g=new class extends s{constructor(e){super({popupSelector:e}),this._popupImage=this._popupElement.querySelector(".preview-image"),this._popupImageText=document.querySelector(".modal__preview-text")}open(e){this._popupImageText.textContent=e._name,this._popupImage.alt=e._name,this._popupImage.src=e._link,super.open()}}("#image-modal");g.setEventListeners();const y=new class{constructor(e,t){let{items:s,renderer:n}=e;this._items=s,this._renderer=n,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:e=>{const t=f(e);y.addItem(t)}},".cards__list");function f(t){return new e(t,"#card-template",I).getView()}function I(e){g.open(e)}y.renderItems(),r.addEventListener("click",(()=>{const e=E.getUserInfo();a.value=e.name,l.value=e.about,S.open()})),c.addEventListener("click",(()=>{h.toggleButtonState(),v.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBaUIsU0FBUyxLQUN0QzBGLEVBQWlCekMsb0JBQ2pCMEMsRUFBYS9CLE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RyaXBsZXRlbi8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vdHJpcGxldGVuLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly90cmlwbGV0ZW4vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly90cmlwbGV0ZW4vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3RyaXBsZXRlbi8uL3NyYy91dGlscy9Db25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vdHJpcGxldGVuLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3RyaXBsZXRlbi8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3RyaXBsZXRlbi8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3RyaXBsZXRlbi8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCBfaGFuZGxlSW1hZ2VDbGljaykge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gX2hhbmRsZUltYWdlQ2xpY2s7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlSWNvbigpKTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlSWNvbigpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sodGhpcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVMaWtlSWNvbigpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVEZWxldGVJY29uKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgZ2V0VmlldygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xyXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVsZW1lbnQuZXZlcnkoXHJcbiAgICAgIChpbnB1dEVsZW1lbnQpID0+IGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvbik7XHJcblxyXG4gICAgdGhpcy5faW5wdXRFbGVtZW50LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRFbGVtZW50KSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cENsb3NlQnRuID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJldmlldy1pbWFnZVwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZVwiKVxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2lucHV0SXRlbXMgPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRJdGVtcy5mb3JFYWNoKChpbnB1dEl0ZW1zKSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0SXRlbXMubmFtZV0gPSBpbnB1dEl0ZW1zLnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxha2UgTG91aXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmV4cG9ydCB7IGluaXRpYWxDYXJkcywgY29uZmlnIH07XHJcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhpbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMgfSBmcm9tIFwiLi4vdXRpbHMvQ29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCIuLi91dGlscy9Db25zdGFudHMuanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbi8vIEVsZW1lbnRzXHJcblxyXG5jb25zdCBlZGl0UHJvZmlsZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IHByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1tb2RhbFwiKTtcclxuY29uc3QgcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcclxuY29uc3QgcHJvZmlsZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RleHRcIik7XHJcbmNvbnN0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtdGl0bGUtaW5wdXRcIik7XHJcbmNvbnN0IHRleHRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10ZXh0LWlucHV0XCIpO1xyXG5jb25zdCBwcm9maWxlRm9ybUVkaXQgPSBwcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuXHJcbmNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbmNvbnN0IGNhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC1tb2RhbFwiKTtcclxuY29uc3QgY2FyZFRpdGxlSW5wdXQgPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIiNhZGQtdGl0bGUtaW5wdXRcIik7XHJcbmNvbnN0IGNhcmRVcmxJbnB1dCA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiI2FkZC11cmwtaW5wdXRcIik7XHJcbmNvbnN0IGFkZENhcmRGb3JtRWRpdCA9IGNhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5cclxuY29uc3QgcHJldmlld0ltYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLW1vZGFsXCIpO1xyXG5jb25zdCBwcmV2aWV3SW1hZ2UgPSBwcmV2aWV3SW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLnByZXZpZXctaW1hZ2VcIik7XHJcbmNvbnN0IHByZXZpZXdUZXh0ID0gcHJldmlld0ltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcHJldmlldy10ZXh0XCIpO1xyXG5cclxuY29uc3QgY2FyZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5cclxuLy8gVmFsaWRhdGlvbiAvL1xyXG5cclxuY29uc3QgZWRpdEZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWZvcm1cIik7XHJcbmNvbnN0IGFkZEZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtZm9ybVwiKTtcclxuXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBlZGl0Rm9ybUVsZW1lbnQpO1xyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBhZGRGb3JtRWxlbWVudCk7XHJcblxyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8gZm9ybSBwb3B1cFxyXG5jb25zdCBuZXdGb3JtUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNjYXJkLW1vZGFsXCIsIGhhbmRsZUZvcm1TdWJtaXQpO1xyXG5uZXdGb3JtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vICBwcm9maWxlIGVkaXQgcG9wdXBcclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oXCIucHJvZmlsZV9fdGl0bGVcIiwgXCIucHJvZmlsZV9fdGV4dFwiKTtcclxuY29uc3QgcHJvZmlsZUVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2VkaXQtbW9kYWxcIiwgKGRhdGEpID0+IHtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcclxuICBwcm9maWxlRWRpdFBvcHVwLmNsb3NlKCk7XHJcbn0pO1xyXG5wcm9maWxlRWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBpbWFnZSBwb3B1cFxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aGltYWdlKFwiI2ltYWdlLW1vZGFsXCIpO1xyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyBzZWN0aW9uIGNsYXNzXHJcbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxyXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRFbCA9IHJlbmRlckNhcmQoaXRlbSk7XHJcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShjYXJkRWwpO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIFwiLmNhcmRzX19saXN0XCJcclxuKTtcclxuc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG5cclxuLy8gZnVuY3Rpb25zXHJcbmZ1bmN0aW9uIHJlbmRlckNhcmQoZGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhLCBcIiNjYXJkLXRlbXBsYXRlXCIsIGhhbmRsZUltYWdlQ2xpY2spO1xyXG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRm9ybVN1Ym1pdChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZFZhbHVlID0gcmVuZGVyQ2FyZChkYXRhKTtcclxuICBzZWN0aW9uLmFkZEl0ZW0oY2FyZFZhbHVlKTtcclxuICBuZXdGb3JtUG9wdXAuY2xvc2UoKTtcclxuICByZXR1cm4gY2FyZFZhbHVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGRhdGEpIHtcclxuICBpbWFnZVBvcHVwLm9wZW4oZGF0YSk7XHJcbn1cclxuXHJcbi8vIGxpc3RlbmVyc1xyXG5lZGl0UHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHByb2ZpbGVEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICB0aXRsZUlucHV0LnZhbHVlID0gcHJvZmlsZURhdGEubmFtZTtcclxuICB0ZXh0SW5wdXQudmFsdWUgPSBwcm9maWxlRGF0YS5hYm91dDtcclxuICBwcm9maWxlRWRpdFBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIG5ld0Zvcm1Qb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IodXNlck5hbWVTZWxlY3Rvciwgam9iVGl0bGVTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iVGl0bGVTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IHVzZXJJbmZvID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHVzZXJJbmZvO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJldmlldy1pbWFnZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2VUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcHJldmlldy10ZXh0XCIpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihkYXRhKSB7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlVGV4dC50ZXh0Q29udGVudCA9IGRhdGEuX25hbWU7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IGRhdGEuX25hbWU7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGRhdGEuX2xpbms7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKHBhcmFtKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChwYXJhbSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VJY29uIiwiX2RlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVEZWxldGVJY29uIiwiX2NhcmRJbWFnZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl9lbGVtZW50IiwicmVtb3ZlIiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsImdldFZpZXciLCJfY2FyZFRpdGxlIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b24iLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2VFbGVtZW50IiwiaWQiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dEVsZW1lbnQiLCJldmVyeSIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlZCIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwiX3JlZiIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX3BvcHVwQ2xvc2VCdG4iLCJfcG9wdXBJbWFnZSIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dEl0ZW1zIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dEl0ZW1zIiwidmFsdWUiLCJyZXNldCIsImVkaXRQcm9maWxlQnRuIiwicHJvZmlsZU1vZGFsIiwidGl0bGVJbnB1dCIsInRleHRJbnB1dCIsImFkZENhcmRCdXR0b24iLCJjYXJkTW9kYWwiLCJwcmV2aWV3SW1hZ2VNb2RhbCIsImVkaXRGb3JtRWxlbWVudCIsImFkZEZvcm1FbGVtZW50IiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiYWRkRm9ybVZhbGlkYXRvciIsIm5ld0Zvcm1Qb3B1cCIsImNhcmRWYWx1ZSIsInJlbmRlckNhcmQiLCJzZWN0aW9uIiwiYWRkSXRlbSIsInVzZXJJbmZvIiwidXNlck5hbWVTZWxlY3RvciIsImpvYlRpdGxlU2VsZWN0b3IiLCJfYWJvdXQiLCJnZXRVc2VySW5mbyIsImFib3V0Iiwic2V0VXNlckluZm8iLCJwcm9maWxlRWRpdFBvcHVwIiwiaW1hZ2VQb3B1cCIsIl9wb3B1cEltYWdlVGV4dCIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJwYXJhbSIsInByZXBlbmQiLCJjYXJkRWwiLCJDYXJkIiwiaGFuZGxlSW1hZ2VDbGljayIsInByb2ZpbGVEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==